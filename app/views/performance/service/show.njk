{% extends "_layout.njk" %}

{% set primaryNavId = "performance" %}
{% set subNavId = cycle if cycle else "all" %}

{% set title = "Service performance" %}

{% block pageTitle %}
{{ title }} – {{ serviceName }} – GOV.UK
{% endblock %}

{% block beforeContent %}
{{ govukBreadcrumbs({
  items: [{
    href: "/performance",
    text: "Performance"
  }, {
    text: title
  }]
}) }}
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <h1 class="govuk-heading-l">{{ title }}</h1>

    <p class="govuk-body">
      <a class="govuk-link" href="#">View in large screen mode</a>
    </p>

    {% include "./_sub-navigation.njk" %}

  <!-- </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds"> -->

  <h2 class="govuk-heading-m">Candidates</h2>

  {% if cycle %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-half">
        {{ appMetric({
          metric: {
            text: (performanceData.candidates.total - (performanceData.candidates.total * 0.1)) | numeral("0,0")
          },
          label: {
            text: "candidates started an application in this recruitment cycle"
          },
          classes: "govuk-!-margin-bottom-4"
        }) if cycle }}
      </div>
      <div class="govuk-grid-column-one-half">
        {{ appMetric({
          metric: {
            text: (performanceData.candidates.total - (performanceData.candidates.total * 0.9)) | numeral("0,0")
          },
          label: {
            text: "candidates started an application in a previous recruitment cycle"
          },
          classes: "govuk-!-margin-bottom-4"
        }) if cycle }}
      </div>
    </div>
  {% endif %}

  {{ appMetric({
    metric: {
      text: performanceData.candidates.total | numeral("0,0")
    },
    label: {
      text: "total candidates including those carried over from the previous recruitment cycle" if cycle else "candidates"
    },
    classes: "app-metric--blue govuk-!-margin-bottom-4"
  }) }}

  <h2 class="govuk-heading-m govuk-!-margin-top-7">Application forms</h2>

  {% if cycle %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-half">
        {{ appMetric({
          metric: {
            text: (performanceData.applications.total - (performanceData.applications.total * 0.1)) | numeral("0,0")
          },
          label: {
            text: "application forms started in this recruitment cycle"
          },
          classes: "govuk-!-margin-bottom-4"
        }) if cycle }}
      </div>
      <div class="govuk-grid-column-one-half">
        {{ appMetric({
          metric: {
            text: (performanceData.applications.total - (performanceData.applications.total * 0.9)) | numeral("0,0")
          },
          label: {
            text: "application forms started in a previous recruitment cycle"
          },
          classes: "govuk-!-margin-bottom-4"
        }) if cycle }}
      </div>
    </div>
  {% endif %}

  {{ appMetric({
    metric: {
      text: performanceData.applications.total | numeral("0,0")
    },
    label: {
      text: "total application forms including those carried over from the previous recruitment cycle" if cycle else "application forms"
    },
    classes: "app-metric--blue govuk-!-margin-bottom-4"
  }) }}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      {{ appMetric({
        metric: {
          text: performanceData.applications.unsubmitted | numeral("0,0")
        },
        label: {
          text: "unsubmitted application forms"
        },
        classes: "govuk-!-margin-bottom-4"
      }) }}
    </div>
    <div class="govuk-grid-column-one-half">
      {{ appMetric({
        metric: {
          text: performanceData.applications.submitted | numeral("0,0")
        },
        label: {
          text: "submitted application forms"
        },
        classes: "govuk-!-margin-bottom-4"
      }) }}
    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-half">
          {{ appMetric({
            metric: {
              text: performanceData.applications.not_started | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "unsubmitted forms not started"
            },
            classes: "govuk-!-margin-bottom-4"
          }) }}
        </div>
        <div class="govuk-grid-column-one-half">
          {{ appMetric({
            metric: {
              text: performanceData.applications.in_progress | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "unsubmitted forms in progress"
            },
            classes: "govuk-!-margin-bottom-4"
          }) }}
        </div>
      </div>
    </div>
    <div class="govuk-grid-column-one-half">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-third">
          {{ appMetric({
            metric: {
              text: performanceData.applications.still_being_processed | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "applications being processed"
            },
            classes: "govuk-!-margin-bottom-4"
          }) }}
        </div>
        <div class="govuk-grid-column-one-third">
          {{ appMetric({
            metric: {
              text: performanceData.applications.ended_without_success | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "applications ended without success"
            },
            classes: "app-metric--red govuk-!-margin-bottom-4"
          }) }}
        </div>
        <div class="govuk-grid-column-one-third">
          {{ appMetric({
            metric: {
              text: performanceData.applications.accepted_an_offer | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "applications ended successfully"
            },
            classes: "app-metric--green govuk-!-margin-bottom-4"
          }) }}
        </div>
      </div>
    </div>
  </div>

  <h2 class="govuk-heading-m govuk-!-margin-top-5">Course choices</h2>

  {{ appMetric({
    metric: {
      text: performanceData.courses.total | numeral("0,0")
    },
    label: {
      text: "courses applied for"
    },
    classes: "app-metric--blue govuk-!-margin-bottom-4"
  }) }}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
      {{ appMetric({
        metric: {
          text: performanceData.courses.school_direct | numeral("0,0"),
          classes: "app-metric__secondary-figure"
        },
        label: {
          text: "School Direct (SD) courses"
        },
        classes: "govuk-!-margin-bottom-4"
      }) }}
    </div>
    <div class="govuk-grid-column-one-third">
      {{ appMetric({
        metric: {
          text: performanceData.courses.scitt | numeral("0,0"),
          classes: "app-metric__secondary-figure"
        },
        label: {
          text: "School Centred Initial Teacher Training (SCITT) courses"
        },
        classes: "govuk-!-margin-bottom-4"
      }) }}
    </div>
    <div class="govuk-grid-column-one-third">
      {{ appMetric({
        metric: {
          text: performanceData.courses.hei | numeral("0,0"),
          classes: "app-metric__secondary-figure"
        },
        label: {
          text: "Higher Education Institute (HEI) courses"
        },
        classes: "govuk-!-margin-bottom-4"
      }) }}
    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-half">
          {{ appMetric({
            metric: {
              text: performanceData.courses.school_direct_ratified_scitt | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "SD courses ratified by SCITTs"
            },
            classes: "govuk-!-margin-bottom-4"
          }) }}
        </div>
        <div class="govuk-grid-column-one-half">
          {{ appMetric({
            metric: {
              text: performanceData.courses.school_direct_ratified_hei | numeral("0,0"),
              classes: "app-metric__secondary-figure"
            },
            label: {
              text: "SD courses ratified by HEIs"
            },
            classes: "govuk-!-margin-bottom-4"
          }) }}
        </div>
      </div>
    </div>
    <div class="govuk-grid-column-one-third">

    </div>
    <div class="govuk-grid-column-one-third">

    </div>
  </div>

  <h2 class="govuk-heading-m govuk-!-margin-top-8">Application form breakdown</h2>

  <p class="govuk-body">Section not built in prototype</p>

  </div>
</div>

{% endblock %}
